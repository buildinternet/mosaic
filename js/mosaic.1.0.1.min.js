!function(t){t.omr||(t.omr={}),t.omr.mosaic=function(o,n){var a=this;a.$el=t(o),a.el=o,a.$el.data("omr.mosaic",a),a.init=function(){a.options=t.extend({},t.omr.mosaic.defaultOptions,n),a.load_box()},a.load_box=function(){a.options.preload?(t(a.options.backdrop,a.el).hide(),t(a.options.overlay,a.el).hide(),t(window).load(function(){"fade"===a.options.options.animation&&0===t(a.options.overlay,a.el).css("opacity")&&t(a.options.overlay,a.el).css("filter","alpha(opacity=0)"),t(a.options.overlay,a.el).fadeIn(200,function(){t(a.options.backdrop,a.el).fadeIn(200)}),a.allow_hover()})):(t(a.options.backdrop,a.el).show(),t(a.options.overlay,a.el).show(),a.allow_hover())},a.allow_hover=function(){switch(a.options.animation){case"fade":t(a.el).hover(function(){t(a.options.overlay,a.el).stop().fadeTo(a.options.speed,a.options.opacity)},function(){t(a.options.overlay,a.el).stop().fadeTo(a.options.speed,0)});break;case"slide":var o="auto"!==t(a.options.overlay,a.el).css(a.options.anchor_x)?t(a.options.overlay,a.el).css(a.options.anchor_x):"0px",n="auto"!==t(a.options.overlay,a.el).css(a.options.anchor_y)?t(a.options.overlay,a.el).css(a.options.anchor_y):"0px",e={};e[a.options.anchor_x]=a.options.hover_x,e[a.options.anchor_y]=a.options.hover_y;var i={};i[a.options.anchor_x]=o,i[a.options.anchor_y]=n,t(a.el).hover(function(){t(a.options.overlay,a.el).stop().animate(e,a.options.speed,a.options.easeIn)},function(){t(a.options.overlay,a.el).stop().animate(i,a.options.speed,a.options.easeOut)})}},a.init()},t.omr.mosaic.defaultOptions={animation:"fade",speed:150,opacity:1,easeIn:"swing",easeOut:"swing",preload:0,anchor_x:"left",anchor_y:"bottom",hover_x:"0px",hover_y:"0px",overlay:".mosaic-overlay",backdrop:".mosaic-backdrop"},t.fn.mosaic=function(o){return this.each(function(){new t.omr.mosaic(this,o)})}}(jQuery);